<<<<<<< HEAD
p <- ggmap(get_googlemap(center = c(lon = -79.4, lat = 43.7),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
citation("ggmap")
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
citation("ggmap")
View(o_data)
o_data %>% mutate(new_score = case_when(Establishment.Status == "Pass" ~"p",
Establishment.Status == "Conditional Pass"~"cp",
TRUE ~"c"))
#ggplot(o_data,aes(y=LATITUDE,x=LONGITUDE,color=SCORE))+geom_point()+
# scale_color_gradient2(low = "red", mid = "yellow",
#                      high = "green", space = "Lab" )
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"open",
Establishment.Status == "Conditional Pass"~"copen",
TRUE ~"closed"))
#ggplot(o_data,aes(y=LATITUDE,x=LONGITUDE,color=SCORE))+geom_point()+
# scale_color_gradient2(low = "red", mid = "yellow",
#                      high = "green", space = "Lab" )
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"open",
Establishment.Status == "Conditional Pass"~"copen",
TRUE ~"closed"))
ggplot(o_data,aes(y=LATITUDE,x=LONGITUDE,color=Establishment.Status))+geom_point()+
scale_color_gradient2(open = "red", copen = "yellow",
closed = "green", space = "Lab" )
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"open",
Establishment.Status == "Conditional Pass"~"copen",
TRUE ~"closed"))
ggplot(o_data,aes(y=LATITUDE,x=LONGITUDE,color=Establishment.Status))+geom_point()+
scale_color_gradient2(open = "red", copen = "yellow",
closed = "green")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"high",
Establishment.Status == "Conditional Pass"~"mid",
TRUE ~"low"))
ggplot(o_data,aes(y=LATITUDE,x=LONGITUDE,color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"high",
Establishment.Status == "Conditional Pass"~"mid",
TRUE ~"low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"high",
Establishment.Status == "Conditional Pass"~"mid",
TRUE ~"low"))
ggplot(o_data,aes(y=.isnumeric(Latitude),x=.isnumeric(Longitude),color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"high",
Establishment.Status == "Conditional Pass"~"mid",
TRUE ~"low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~"high",
Establishment.Status == "Conditional Pass"~"mid",
TRUE ~"low"))
ggplot(o_data,aes(y=c(Latitude),x=c(Longitude),color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
ABE <- read.csv("Apartment Building Evaluation.csv")
getwd()
setwd("/Users/chrisyan/Documents/UofT-Y1S2/STAA57/Lectures/GGPlot/")
ABE <- read.csv("Apartment Building Evaluation.csv")
library(tidyverse)
ABE %>% mutate(new_score = case_when(SCORE>=80~"high",
(SCORE<80 & SCORE>70)~"mid",
TRUE ~"low"))
ggplot(ABE,aes(y=LATITUDE,x=LONGITUDE,color=SCORE))+geom_point()+
scale_color_gradient2(low = "red", mid = "yellow",
high = "green", space = "Lab" )
View(ABE)
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
getwd()
setwd("/Users/chrisyan/Documents/GitHub/Dinesafe-Toronto-Report/docs/")
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
citation("ggmap")
o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Establishment.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point()+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_raster(aes(fill = density))
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.5)+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.1)+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.01)+
scale_color_gradient2(high = "red", mid = "yellow",
low = "green", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "green", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "darkyellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "redyellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 1)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.25)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
library(png)
install.packages("png")
knitr::opts_chunk$set(echo = TRUE)
library(png)
img.file <- system.file(file.path("images", "toronto-map.png"),
package = "ggpubr")
img <- png::readPNG(img.file)
getwd()
img <- png::readPNG(img.file)
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
citation("ggmap")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- system.file(file.path("images", "toronto-map.png"),
package = "ggpubr")
img <- png::readPNG(img)
install.packages("EBImage")
library(EBImage)
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
citation("ggmap")
img <- readPNG("toronto-map.png")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
install.packages("ggpubr")
knitr::opts_chunk$set(echo = TRUE)
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
citation("ggmap")
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
citation("ggmap")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map-2.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map-3.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map-3.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map-4.png")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map-4.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
p <- ggmap(get_googlemap(center = c(lon = -79.4, lat = 43.7),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
install.packages("osmdata")
library(osmdata)
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
=======
knitr::opts_chunk$set(echo = TRUE)
# Importing the dataset
data <- read.csv("bicycle.csv")
>>>>>>> 09d4ef9bec905856a8d362d377938452b8f26ac7
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
library(osmdata)
citation("ggmap")
<<<<<<< HEAD
### With ggmap
toronto_map <- get_map(getbb('toronto'), source="stamen")
ggmap(toronto_map)
toronto_map+geom_point(o_data,aes(y=Latitude,x=Longitude))
toronto_map <- get_map(getbb('toronto'), source="stamen")
#ggmap(toronto_map)
toronto_map+geom_point(o_data,aes(y=Latitude,x=Longitude))
# Importing the dataset
o_data <- read.csv("Dinesafe.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
library(osmdata)
citation("ggmap")
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
### With ggmap
toronto_map <- get_map(getbb('toronto'), source="stamen")
#ggmap(toronto_map)
toronto_map+geom_point(o_data,aes(y=Latitude,x=Longitude))
ggmap(toronto_map)
o_data = o_data %>% mutate(Open.Status = case_when(Establishment.Status == "Pass" ~ 1,
Establishment.Status == "Closed"~ -1,
TRUE ~ 0))
o_data %>% mutate(Map.Plotting = case_when(Open.Status == 1 ~ "high",
Open.Status == 0 ~ "mid",
Open.Status == -1 ~ "low"))
img <- readPNG("toronto-map.png")
ggplot(o_data,aes(y=Latitude,x=Longitude,color=Open.Status))+background_image(img)+geom_point(alpha = 0.05)+
scale_color_gradient2(high = "darkgreen", mid = "yellow",
low = "red", space = "Lab")
### With ggmap
toronto_map <- get_map(getbb('toronto'), source="stamen")
ggmap(toronto_map)
toronto_map+geom_point(o_data,aes(y=Latitude,x=Longitude))
knitr::opts_chunk$set(echo = TRUE)
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
d = d %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
data = data %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
View(data)
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
data = data %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
#iii
m=glm(OCCUPANCY_100-PROGRAM_MODEL, family=binomial, data = data)
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
data = data %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
#iii
m=glm(data$OCCUPANCY_100-PROGRAM_MODEL, family=binomial, data = data)
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
data = data %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
#iii
m=glm(data$OCCUPANCY_100-data$PROGRAM_MODEL, family=binomial, data = data)
#i
data <- read.csv("https://ckan0.cf.opendata.inter.prod-toronto.ca/dataset/21c83b32-d5a8-4106-a54f-010dbe49f6f2/resource/df7d621d-a7a0-4854-81b9-8a6dc29d73a6/download/daily-shelter-overnight-service-occupancy-capacity-2021.csv")
#ii
library(tidyverse)
data = data %>%
filter(!is.na(OCCUPANCY_RATE_ROOMS)) %>%
mutate(OCCUPANCY_100 = ifelse(OCCUPANCY_RATE_ROOMS == 100,1,0))
#iii
m=glm(data$OCCUPANCY_100~data$PROGRAM_MODEL, family=binomial, data = data)
summary(m)
#vi
library(pROC)
install.packages("pROC")
#vi
library(pROC)
p = predict(m, type="response")
roc_logit = roc(data$OCCUPANCY_100 = p)
p = predict(m, type="response")
roc_logit = roc(data$OCCUPANCY_100 ~ p)
ggroc(roc_logit, color="red", size = 2)
#vi
library(pROC)
p = predict(m, type="response")
roc_logit = roc(data$OCCUPANCY_100 ~ p)
ggroc(roc_logit, color="red", size = 2)
#vii
auc(roc_logit)
=======
View(data)
# Importing the dataset
origin <- read.csv("bicycle.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
library(osmdata)
citation("ggmap")
# Importing the dataset
origin <- read.csv("bicycle.csv")
# Initiating libraries
library(tidyverse)
library(ggplot2)
library(ggmap)
library(png)
library(ggpubr)
library(osmdata)
citation("ggmap")
data <- na.omit(origin)
View(data)
View(data)
#omit all the entries that has NA inputs, they won't be helpful to our data
data <- na.omit(origin)
data_sum <- aggregate(value ~ Occurrence_Year, data = data, FUN = summary)
#omit all the entries that has NA inputs, they won't be helpful to our data
data <- na.omit(origin)
data_sum <- aggregate(value = Occurrence_Year, data = data, FUN = summary)
#omit all the entries that has NA inputs, they won't be helpful to our data
data <- na.omit(origin)
summary <- table(data$year)
#omit all the entries that has NA inputs, they won't be helpful to our data
data <- na.omit(origin)
summary <- table(data$Occurrence_Year)
#omit all the entries that has NA inputs, they won't be helpful to our data
data <- na.omit(origin)
summary <- table(data$Occurrence_Year)
print(summary)
>>>>>>> 09d4ef9bec905856a8d362d377938452b8f26ac7
